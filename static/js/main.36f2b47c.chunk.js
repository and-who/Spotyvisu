(this.webpackJsonpspotivisu=this.webpackJsonpspotivisu||[]).push([[0],{120:function(e,t,c){},261:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(18),s=c.n(r),i=(c(120),c(9)),o=c(113),l=c(281),u=(c(69),c(107)),j=c.n(u),m=c(2),d=function(e){return Object(m.jsx)("div",{className:"ProgressBar",children:Object(m.jsx)("div",{style:{width:"".concat(e.progress,"%"),backgroundColor:e.color},className:"ProgressBar__progress"})})},b="http://localhost:8080",f="".concat(b,"/player/current"),h="".concat(b,"/player/resume"),O="".concat(b,"/player/pause"),x="".concat(b,"/player/next"),p="".concat(b,"/player/volume/set/"),g=c(66),_=c.n(g),v=c(106),k=c(130),N=function(){var e=Object(v.a)(_.a.mark((function e(t){var c,n,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new k(t),e.next=3,c.getPalette();case 3:return n=e.sent,a=n.Vibrant.getHex(),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t,c=e.player,a=Object(n.useRef)(),r=Object(n.useRef)();Object(n.useEffect)((function(){r.current=a.current,a.current=c.trackTime}));var s=a.current,o=r.current,l=s===c.trackTime&&o===c.trackTime&&c.trackTime>=0,u=null===(t=c.image)||void 0===t?void 0:t.key,b=Object(n.useState)(),f=Object(i.a)(b,2),x=f[0],p=f[1];return Object(n.useMemo)((function(){return u&&N("https://i.scdn.co/image/".concat(u))}),[u]).then((function(e){return p(e)})),Object(m.jsxs)("div",{onClick:function(){l?fetch(h):fetch(O)},className:"TrackInfo",children:[Object(m.jsxs)("div",{className:"TrackInfo__art",children:[Object(m.jsx)("img",{src:"https://i.scdn.co/image/".concat(c.image.key),className:"TrackInfo__image",alt:"art"}),l&&Object(m.jsx)("div",{className:"TrackInfo__pause-overlay",children:Object(m.jsx)(j.a,{className:"TrackInfo__pause-icon"})})]}),Object(m.jsxs)("div",{className:"TrackInfo__infos",children:[c.trackTime&&c.trackTime>=0&&Object(m.jsx)(d,{progress:c.trackTime/(c.track.duration/100),color:x}),Object(m.jsxs)("div",{className:"TrackInfo__infos-text",children:[c.track&&Object(m.jsx)("h2",{className:"TrackInfo__infos-track",children:c.track.name}),c.track&&Object(m.jsx)("h3",{className:"TrackInfo__infos-artist",children:c.track.artist.map((function(e){return e.name})).join(", ")}),c.episode&&Object(m.jsx)("h2",{className:"TrackInfo__infos-track",children:c.episode.name}),c.episode&&Object(m.jsx)("h3",{className:"TrackInfo__infos-artist",children:c.episode.show.name})]})]})]})},T=c(67),C=function e(t){fetch(x).then((function(){t>1&&e(t-1)}))},S=function(e,t){return Object(m.jsxs)("div",{onClick:function(){C(t+1)},style:{backgroundColor:e.color},className:"NextSongs__card",children:[Object(m.jsx)("img",{src:"https://i.scdn.co/image/".concat(e.image.key),className:"NextSongs__card-art",alt:"art"}),Object(m.jsxs)("div",{className:"NextSongs__card-text",children:[Object(m.jsx)("h2",{className:"NextSongs__infos-track",children:e.track.name}),Object(m.jsx)("h3",{className:"NextSongs__infos-artist",children:e.track.artist.map((function(e){return e.name})).join(", ")})]})]},e.track.name)},I=function(e){var t,c,a=e.player,r=a.nextTracks.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{color:""})})),s=Object(n.useState)(),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(n.useState)(),d=Object(i.a)(j,2),b=d[0],f=d[1],h=null===(t=a.nextTracks[0])||void 0===t?void 0:t.image.key,O=null===(c=a.nextTracks[1])||void 0===c?void 0:c.image.key;return Object(n.useMemo)((function(){return h&&N("https://i.scdn.co/image/".concat(h))}),[h]).then((function(e){return u(e)})),Object(n.useMemo)((function(){return O&&N("https://i.scdn.co/image/".concat(O))}),[O]).then((function(e){return f(e)})),r.length>0&&(r[0].color=l,r.length>1&&(r[1].color=b)),Object(m.jsxs)("div",{className:"NextSongs",children:[Object(m.jsx)("h2",{className:"NextSongs__next",children:"Next:"}),Object(m.jsx)("div",{className:"NextSongs__cards",children:r.map((function(e,t){return S(e,t)}))})]})},w=c(263),V=c(280),M=c(109),R=c.n(M),B=c(110),z=c.n(B),E=c(111),L=c.n(E),P=c(112),F=c.n(P),D=function(e){var t=function(e){var t=Math.floor(655.36);fetch("".concat(p).concat(e*t))};return Object(m.jsx)("div",{className:"VolumeControl",children:Object(m.jsxs)(V.a,{className:"VolumeControl__buttongroup",size:"large",variant:"contained",fullWidth:!0,color:"primary","aria-label":"outlined primary button group",children:[Object(m.jsx)(w.a,{onClick:function(){t(0)},size:"large",style:{borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem"},children:Object(m.jsx)(R.a,{className:"VolumeControl__icon"})}),Object(m.jsx)(w.a,{onClick:function(){t(8)},size:"large",children:Object(m.jsx)(z.a,{className:"VolumeControl__icon"})}),Object(m.jsx)(w.a,{onClick:function(){t(15)},size:"large",children:Object(m.jsx)(L.a,{className:"VolumeControl__icon"})}),Object(m.jsx)(w.a,{onClick:function(){t(66)},size:"large",style:{borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem"},children:Object(m.jsx)(F.a,{className:"VolumeControl__icon"})})]})})},J=function(e){var t=e.player;return Object(m.jsxs)("div",{className:"MainView",children:[Object(m.jsx)("div",{className:"MainView__tack",children:Object(m.jsx)(y,{player:t})}),Object(m.jsx)("div",{className:"MainView__next",children:t.nextTracks&&Object(m.jsx)(I,{player:t})}),Object(m.jsx)("div",{className:"MainView__volume",children:Object(m.jsx)(D,{})})]})},A=c.p+"static/media/spotify.7ef0c8a2.png",H=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1];return console.log(A),Object(n.useEffect)((function(){var e=setInterval((function(){var e=new Date;a(e.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(m.jsxs)("div",{className:"NoConnectionView",children:[Object(m.jsx)("h1",{className:"NoConnectionView__time",children:c}),Object(m.jsxs)("p",{className:"NoConnectionView__text",children:["Verbinde dich \xfcber Spotify ",Object(m.jsx)("img",{className:"NoConnectionView__logo",src:A,alt:"logo"})]})]})};var W=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),s=Object(i.a)(r,2),u=s[0],j=s[1],d=Object(n.useState)(0),b=Object(i.a)(d,2),h=b[0],O=b[1];Object(n.useEffect)((function(){var e=setInterval((function(){fetch(f).then((function(e){return e.json()})).then((function(e){a(e)}))}),1e3);return function(){return clearInterval(e)}})),Object(n.useEffect)((function(){c&&c.trackTime!==u?(j(c.trackTime),O(0)):O(h+1)}),[c]);var x=Object(o.a)({palette:{primary:{main:"#fff"},secondary:{main:"#666"}}});return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(l.a,{theme:x,children:!c||h>3600?Object(m.jsx)(H,{}):Object(m.jsx)(J,{player:c})})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,282)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(W,{})}),document.getElementById("root")),q()}},[[261,1,2]]]);
//# sourceMappingURL=main.36f2b47c.chunk.js.map