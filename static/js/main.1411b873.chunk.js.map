{"version":3,"sources":["components/ProgressBar/index.jsx","config.js","components/TrackInfo/index.jsx","components/NextSongs/index.jsx","components/VolumeControl/index.jsx","components/MainView/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["ProgressBar","props","className","style","width","progress","backgroundColor","color","BASE_URL","PLAYER_URL","PLAYER_RESUME_URL","PLAYER_PAUSE_URL","PLAYER_NEXT_URL","PLAYER_VOLUME_URL","TrackInfo","player","prevTrackTimeRef","useRef","useEffect","current","trackTime","isPaused","data","useColor","image","key","crossOrigin","onClick","fetch","src","alt","track","duration","name","artist","map","join","skipTracks","numTracks","then","buildTrackCard","index","NextSongs","nextTracksWithColor","nextTracks","nextTrack","result1","result2","length","VolumeControl","setVolume","volume","VOLUME_PERCENT","Math","floor","MAX_VOLUME","ButtonGroup","size","variant","fullWidth","aria-label","Button","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","MainView","App","useState","setPlayer","interval","setInterval","response","json","result","clearInterval","theme","createMuiTheme","palette","primary","main","secondary","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOAWeA,EATK,SAACC,GACnB,OACE,qBAAKC,UAAU,cAAf,SACE,qBAAKC,MAAO,CAACC,MAAM,GAAD,OAAKH,EAAMI,SAAX,KAAwBC,gBAAiBL,EAAMM,OAAQL,UAAU,6BCL5EM,EAAW,wBACXC,EAAU,UAAMD,EAAN,mBACVE,EAAiB,UAAMF,EAAN,kBACjBG,EAAgB,UAAMH,EAAN,iBAChBI,EAAe,UAAMJ,EAAN,gBACfK,EAAiB,UAAML,EAAN,uBCqCfM,EApCG,SAACb,GACjB,IAAOc,EAAUd,EAAVc,OAEDC,EAAmBC,mBACzBC,qBAAU,WACRF,EAAiBG,QAAUJ,EAAOK,aAEpC,IACMC,EADgBL,EAAiBG,UACJJ,EAAOK,UAUnCE,EAAQC,mBAAS,2BAAD,OAA4BR,EAAOS,MAAMC,KAAO,MAAO,CAAEC,YAAa,cAAtFJ,KACP,OACE,sBAAKK,QAVa,WACfN,EACDO,MAAMlB,GAENkB,MAAMjB,IAMmBT,UAAU,YAArC,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAK2B,IAAG,kCAA6Bd,EAAOS,MAAMC,KAAOvB,UAAU,mBAAmB4B,IAAI,QACzFT,GAAa,qBAAKnB,UAAU,2BAAf,SAA0C,cAAC,IAAD,CAAsBA,UAAU,+BAE1F,sBAAKA,UAAU,mBAAf,UACE,cAAC,EAAD,CAAaG,SAAUU,EAAOK,WAAWL,EAAOgB,MAAMC,SAAS,KAAMzB,MAAOe,IAC5E,sBAAKpB,UAAU,wBAAf,UACE,oBAAIA,UAAU,yBAAd,SAAwCa,EAAOgB,MAAME,OACrD,oBAAI/B,UAAU,0BAAd,SAAyCa,EAAOgB,MAAMG,OAAOC,KAAI,SAAAD,GAAM,OAAIA,EAAOD,QAAMG,KAAK,kB,QChCjGC,EAAa,SAAbA,EAAcC,GAClBV,MAAMhB,GAAiB2B,MAAK,WACvBD,EAAU,GACXD,EAAWC,EAAU,OAMrBE,EAAgB,SAACT,EAAMU,GAC3B,OACE,sBAA4Bd,QAAS,WAAKU,EAAWI,EAAM,IAAKtC,MAAO,CAACG,gBAAiByB,EAAMxB,OAAQL,UAAU,kBAAjH,UACM,qBAAK2B,IAAG,kCAA6BE,EAAMP,MAAMC,KAAOvB,UAAU,sBAAsB4B,IAAI,QAC5F,sBAAK5B,UAAU,uBAAf,UACE,oBAAIA,UAAU,yBAAd,SAAwC6B,EAAMA,MAAME,OACpD,oBAAI/B,UAAU,0BAAd,SAAyC6B,EAAMA,MAAMG,OAAOC,KAAI,SAAAD,GAAM,OAAIA,EAAOD,QAAMG,KAAK,aAJ1FL,EAAMA,MAAME,OAiCXS,EAvBG,SAACzC,GACjB,IAAOc,EAAUd,EAAVc,OACD4B,EAAsB5B,EAAO6B,WAAWT,KAAI,SAAAU,GAAS,kCAASA,GAAT,IAAoBtC,MAAM,QAC/EuC,EAAUvB,mBAAS,2BAAD,OAA4BR,EAAO6B,WAAW,GAAGpB,MAAMC,KAAO,MAAO,CAAEC,YAAa,cACtGqB,EAAUxB,mBAAS,2BAAD,OAA4BR,EAAO6B,WAAW,GAAGpB,MAAMC,KAAO,MAAO,CAAEC,YAAa,cAS5G,OARGiB,EAAoBK,OAAS,IAC9BL,EAAoB,GAAGpC,MAAMuC,EAAQxB,KAElCqB,EAAoBK,OAAS,IAC9BL,EAAoB,GAAGpC,MAAMwC,EAAQzB,OAKvC,sBAAKpB,UAAU,YAAf,UACE,oBAAIA,UAAU,kBAAd,mBACA,qBAAKA,UAAU,mBAAf,SACGyC,EAAoBR,KAAI,SAACJ,EAAMU,GAAP,OAAiBD,EAAeT,EAAMU,Y,oFCZxDQ,EApBO,SAAChD,GAErB,IAAMiD,EAAY,SAACC,GACjB,IACMC,EAAiBC,KAAKC,MAAMC,QAClC3B,MAAM,GAAD,OAAIf,GAAJ,OAAwBsC,EAAOC,KAGtC,OACE,qBAAKlD,UAAU,gBAAf,SACE,eAACsD,EAAA,EAAD,CAAaC,KAAK,QAAQC,QAAQ,YAAYC,WAAW,EAAMpD,MAAM,UAAUqD,aAAW,gCAA1F,UACE,cAACC,EAAA,EAAD,CAAQlC,QAAS,WAAKuB,EAAU,IAAKO,KAAK,QAAQtD,MAAO,CAAE2D,oBAAqB,OAASC,uBAAwB,QAAjH,SAA0H,cAAC,IAAD,MAC1H,cAACF,EAAA,EAAD,CAAQlC,QAAS,WAAKuB,EAAU,IAAKO,KAAK,QAA1C,SAAkD,cAAC,IAAD,MAClD,cAACI,EAAA,EAAD,CAAQlC,QAAS,WAAKuB,EAAU,KAAMO,KAAK,QAA3C,SAAmD,cAAC,IAAD,MACnD,cAACI,EAAA,EAAD,CAAQlC,QAAS,WAAKuB,EAAU,KAAMO,KAAK,QAAQtD,MAAO,CAAE6D,qBAAsB,OAASC,wBAAyB,QAApH,SAA6H,cAAC,IAAD,YCHtHC,EAjBE,SAACjE,GAChB,IAAOc,EAAUd,EAAVc,OACP,OACE,sBAAKb,UAAU,WAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,cAAC,EAAD,CAAWa,OAAQA,MAErB,qBAAKb,UAAU,iBAAf,SACGa,EAAO6B,YAAc,cAAC,EAAD,CAAW7B,OAAQA,MAE3C,qBAAKb,UAAU,mBAAf,SACE,cAAC,EAAD,UC+BOiE,MAvCf,WAEE,MAA4BC,qBAA5B,mBAAOrD,EAAP,KAAesD,EAAf,KAUAnD,qBAAU,WACR,IAAIoD,EAAWC,aAAY,WAR3B3C,MAAMnB,GACL8B,MAAK,SAAAiC,GAAQ,OAAIA,EAASC,UAC1BlC,MAAK,SAAAmC,GACFL,EAAUK,QAKoC,KAElD,OAAO,kBAAMC,cAAcL,OAG7B,IAAMM,EAAQC,YAAe,CAC3BC,QAAS,CACPC,QAAS,CACPC,KAAM,QAERC,UAAW,CACTD,KAAM,WAMZ,OACE,qBAAK9E,UAAU,MAAf,SACE,cAACgF,EAAA,EAAD,CAAeN,MAAOA,EAAtB,SACG7D,EAAS,cAAC,EAAD,CAAUA,OAAQA,IAAY,oDC3BjCoE,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9C,MAAK,YAAkD,IAA/C+C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.1411b873.chunk.js","sourcesContent":["\n\nconst ProgressBar = (props) => {\n  return (\n    <div className=\"ProgressBar\">\n      <div style={{width: `${props.progress}%`, backgroundColor: props.color}} className=\"ProgressBar__progress\">\n      </div>\n    </div>\n  );\n}\n\nexport default ProgressBar;","export const BASE_URL = \"http://localhost:8080\"\nexport const PLAYER_URL = `${BASE_URL}/player/current`\nexport const PLAYER_RESUME_URL = `${BASE_URL}/player/resume`\nexport const PLAYER_PAUSE_URL = `${BASE_URL}/player/pause`\nexport const PLAYER_NEXT_URL = `${BASE_URL}/player/next`\nexport const PLAYER_VOLUME_URL = `${BASE_URL}/player/volume/set/`","import React, { useEffect, useRef } from 'react';\nimport { useColor } from 'color-thief-react'\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport ProgressBar from '../ProgressBar'\nimport {PLAYER_RESUME_URL, PLAYER_PAUSE_URL} from '../../config';\n\nconst TrackInfo = (props) => {\n  const {player} = props\n\n  const prevTrackTimeRef = useRef();\n  useEffect(() => {\n    prevTrackTimeRef.current = player.trackTime;\n  });\n  const prevTrackTime = prevTrackTimeRef.current;\n  const isPaused = prevTrackTime === player.trackTime\n\n  const onPlayPause = () =>  {\n    if(isPaused) {\n      fetch(PLAYER_RESUME_URL)\n    } else {\n      fetch(PLAYER_PAUSE_URL)\n    }\n  }\n\n  const {data} = useColor(`https://i.scdn.co/image/${player.image.key}`, 'hex', { crossOrigin: 'anonymous'})\n  return (\n    <div onClick={onPlayPause} className=\"TrackInfo\">\n      <div className=\"TrackInfo__art\">\n        <img src={`https://i.scdn.co/image/${player.image.key}`} className=\"TrackInfo__image\" alt=\"art\" />\n        {isPaused && (<div className=\"TrackInfo__pause-overlay\"><PlayCircleFilledIcon className=\"TrackInfo__pause-icon\"/></div>) }\n      </div>\n      <div className=\"TrackInfo__infos\">\n        <ProgressBar progress={player.trackTime/(player.track.duration/100)} color={data}/>\n        <div className=\"TrackInfo__infos-text\">\n          <h2 className=\"TrackInfo__infos-track\">{player.track.name}</h2>\n          <h3 className=\"TrackInfo__infos-artist\">{player.track.artist.map(artist => artist.name).join(', ')}</h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TrackInfo;","import { useColor } from 'color-thief-react'\nimport {PLAYER_NEXT_URL} from '../../config';\n\nconst skipTracks = (numTracks) => {\n  fetch(PLAYER_NEXT_URL).then(()=>{\n    if(numTracks>1){\n      skipTracks(numTracks-1)\n    }\n  })\n\n}\n\nconst buildTrackCard= (track,index) => {\n  return (\n    <div key={track.track.name} onClick={()=>{skipTracks(index+1)}} style={{backgroundColor: track.color}} className=\"NextSongs__card\">\n          <img src={`https://i.scdn.co/image/${track.image.key}`} className=\"NextSongs__card-art\" alt=\"art\" />\n          <div className=\"NextSongs__card-text\">\n            <h2 className=\"NextSongs__infos-track\">{track.track.name}</h2>\n            <h3 className=\"NextSongs__infos-artist\">{track.track.artist.map(artist => artist.name).join(', ')}</h3>\n          </div>\n    </div>\n  )\n}\n\nconst NextSongs = (props) => {\n  const {player} = props\n  const nextTracksWithColor = player.nextTracks.map(nextTrack => ({...nextTrack, color:''}))\n  const result1 = useColor(`https://i.scdn.co/image/${player.nextTracks[0].image.key}`, 'hex', { crossOrigin: 'anonymous'})\n  const result2 = useColor(`https://i.scdn.co/image/${player.nextTracks[1].image.key}`, 'hex', { crossOrigin: 'anonymous'})\n  if(nextTracksWithColor.length > 0){\n    nextTracksWithColor[0].color=result1.data\n\n    if(nextTracksWithColor.length > 1){\n      nextTracksWithColor[1].color=result2.data\n    }\n  }\n  \n  return (\n    <div className=\"NextSongs\">\n      <h2 className=\"NextSongs__next\">Next:</h2>\n      <div className=\"NextSongs__cards\">\n        {nextTracksWithColor.map((track,index) => buildTrackCard(track,index))}\n      </div>\n    </div>\n  );\n}\n\nexport default NextSongs;","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport VolumeMuteIcon from '@material-ui/icons/VolumeMute';\nimport VolumeDownIcon from '@material-ui/icons/VolumeDown';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\nimport {PLAYER_VOLUME_URL} from '../../config';\n\nconst VolumeControl = (props) => {\n\n  const setVolume = (volume) => {\n    const MAX_VOLUME = 65536\n    const VOLUME_PERCENT = Math.floor(MAX_VOLUME/100)\n    fetch(`${PLAYER_VOLUME_URL}${volume*VOLUME_PERCENT}`)\n  }\n\n  return (\n    <div className=\"VolumeControl\">\n      <ButtonGroup size=\"large\" variant=\"contained\" fullWidth={true} color=\"primary\" aria-label=\"outlined primary button group\">\n        <Button onClick={()=>{setVolume(0)}} size=\"large\" style={{ borderTopLeftRadius: '1rem',  borderBottomLeftRadius: '1rem'}}><VolumeOffIcon/></Button>\n        <Button onClick={()=>{setVolume(8)}} size=\"large\"><VolumeMuteIcon/></Button>\n        <Button onClick={()=>{setVolume(15)}} size=\"large\"><VolumeDownIcon/></Button>\n        <Button onClick={()=>{setVolume(66)}} size=\"large\" style={{ borderTopRightRadius: '1rem',  borderBottomRightRadius: '1rem'}}><VolumeUpIcon/></Button>\n      </ButtonGroup>\n    </div>\n  );\n}\n\nexport default VolumeControl;","import TrackInfo from '../TrackInfo'\nimport NextSongs from '../NextSongs'\nimport VolumeControl from '../VolumeControl'\nconst MainView = (props) => {\n  const {player} = props\n  return (\n    <div className=\"MainView\">\n      <div className=\"MainView__tack\">\n        <TrackInfo player={player}/>\n      </div>\n      <div className=\"MainView__next\">\n        {player.nextTracks && <NextSongs player={player}/>}\n      </div>\n      <div className=\"MainView__volume\">\n        <VolumeControl/>\n      </div>\n    </div>\n  );\n}\n\nexport default MainView;","import React, { useState, useEffect } from 'react';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport MainView from './components/MainView';\nimport {PLAYER_URL} from './config';\n\n\nfunction App() {\n\n  const [player, setPlayer] = useState()\n\n  const fetchPlayer = () => {\n    fetch(PLAYER_URL)\n    .then(response => response.json())\n    .then(result => {\n        setPlayer(result)\n    })\n  }\n\n  useEffect(() =>{\n    let interval = setInterval(() => {fetchPlayer()}, 1000)\n    //destroy interval on unmount\n    return () => clearInterval(interval)\n  })\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#fff',\n      },\n      secondary: {\n        main: '#666',\n      },\n    },\n  });\n\n\n  return (\n    <div className=\"App\">\n      <ThemeProvider theme={theme}>\n        {player ? <MainView player={player}/> : <h1>Not Connected</h1> }\n      </ThemeProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}